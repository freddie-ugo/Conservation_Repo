sd <- ((1/14)*sum((xi-mean)^2))^0.5
sd <- ((1/14)*sum((xi-sum(xi)/15)^2))^0.5
sd <- ((1/(length(xi)-1))*sum((xi-sum(xi)/15)^2))^0.5
sd <- ((1/(length(xi)-1))*sum((xi-sum(xi)/(leength(xi)))^2))^0.5
sd <- ((1/(length(xi)-1))*sum((xi-sum(xi)/(length(xi)))^2))^0.5
mean_2 <- mean(xi)
variance <- var(xi)
sd_2 <- sqrt(var(xi))
sd_3 <- sd(xi)
quantile(xi)
quantile(xi, probs = seq(0, 1, 0.25))
quartiles <- quantile(xi, probs = seq(0, 1, 0.25))
IQR <- quartiles[3]-quartiles[1]
unname(IQR)
IQR_1 <- unname(IQR)
library(dplyr)
library(tidyr)
library(ggplot2)
library(tidyr)
library(dplyr)
library(stringr)
library(readxl)
library(ggplot2)
dbdata <- read_excel("S3_Prac/dbanalysis.xlsx", sheet = "dbdata")
habitat <- read_excel("S3_Prac/dbanalysis.xlsx", sheet = "habitat")
remotesense <- read_excel("S3_Prac/dbanalysis.xlsx", sheet = "remotesense")
habitat <- habitat %>%
mutate(UTM_X = as.numeric(UTM_X),
UTM_Y = as.numeric(UTM_Y))
main <- left_join(dbdata, habitat, by = c("site" = "site")) %>%
left_join(remotesense, by = c("UTM_X" = "UTM_X", "UTM_Y" = "UTM_Y"))
main %>%
filter(taxon == "Copris nubilosus") %>%
ggplot(aes(x = aspect, y = count,)) +
geom_point(shape = 1, col = "green")
# How does elevation affect the abundance of Dichotomius species?
#Separate by colour
main %>%
filter(str_detect(taxon, "Dichotomius")) %>%
ggplot(aes(x = dem, y = count, colour = taxon)) +
geom_point()
#Separate by panel
main %>%
filter(str_detect(taxon, "Dichotomius")) %>%
ggplot(aes(x = dem, y = count, colour = taxon)) +
geom_point() +
facet_wrap(~taxon)
#Separate by shape
main %>%
filter(str_detect(taxon, "Dichotomius")) %>%
ggplot(aes(x = dem, y = count, shape = taxon)) +
geom_point()
main %>%
filter(str_detect(taxon, "Dichotomius")) %>%
ggplot(aes(x = dem, y = count, colour = taxon)) +
geom_point() +
geom_line()
main %>%
group_by(taxon) %>%
summarise(total = sum(count)) %>%
ggplot(aes(x = taxon, y = total)) +
geom_col() +
coord_flip()
# What is the distribution of the counts of Eurysternus magnus
main %>%
filter(taxon == "Eurysternus magnus") %>%
ggplot(aes(x = count)) +
geom_histogram(bins = 50, fill = "yellow") +
labs(y = "frequency")
View(main)
# Check what our sample units are
main %>%
select(collectdate, site)
# Check what our sample units are
main %>%
select(collectdate, site) %>%
unique()
# Check what our sample units are
main %>%
select(collectdate, site) %>%
unique() %>%
arrange(site)
main %>%
group_by(collectdate, site) %>% #each group is a sample unit
summarise(richness = sum(count > 0))
main %>%
group_by(collectdate, site, habitat) %>% #each group is a sample unit
summarise(richness = sum(count > 0))
main %>%
group_by(collectdate, site, main_forest_type) %>% #each group is a sample unit
summarise(richness = sum(count > 0))
main %>%
group_by(collectdate, site, main_forest_type) %>% #each group is a sample unit
summarise(richness = sum(count > 0)) %>%
ungroup()
main %>%
group_by(collectdate, site, main_forest_type) %>% #each group is a sample unit
summarise(richness = sum(count > 0)) %>%
ungroup() %>% # ungroup afterwards to make it easier to work with after
ggplot(aes(x = main_forest_type, y = richness)) +
geom_boxplot()
main %>%
group_by(collectdate, site, main_forest_type) %>% #each group is a sample unit
summarise(richness = sum(count > 0)) %>%
ungroup() %>%
group_by(main_forest_type) %>%
summarise(mean = mean(richness),
sd = sd(richness)) %>%
ungroup() %>%
ggplot(aes( x = main_forest_type, y = mean,
ymin = mean - sd, ymax = mean + sd)) +
geom_point()
main %>%
group_by(collectdate, site, main_forest_type) %>% #each group is a sample unit
summarise(richness = sum(count > 0)) %>%
ungroup() %>%
group_by(main_forest_type) %>%
summarise(mean = mean(richness),
sd = sd(richness)) %>%
ungroup() %>%
ggplot(aes( x = main_forest_type, y = mean,
ymin = mean - sd, ymax = mean + sd)) +
geom_point() +
geom_errorbar()
library(tidyr)
library(dplyr)
library(ggplot2)
library(readxl)
dbdata <- read_excel("S3_Prac/dbanalysis.xlsx", sheet = "dbdata")
habitat <- read_excel("S3_Prac/dbanalysis.xlsx", sheet = "habitat")
remotesense <- read_excel("S3_Prac/dbanalysis.xlsx", sheet = "remotesense")
habitat <- habitat %>%
mutate(UTM_X = as.numeric(UTM_X),
UTM_Y = as.numeric(UTM_Y))
View(habitat)
str(habitat)
dbdata <- read_excel("S3_Prac/dbanalysis.xlsx", sheet = "dbdata")
View(dbdata)
dbdata %>%
group_by(taxon)
dbdata %>%
group_by(taxon) %>%
summarise(total = sum(count))
dbdata %>%
group_by(taxon) %>%
summarise(total = sum(count)) %>%
ggplot(aes(x = taxon, y = total)) +
geom_col
dbdata %>%
group_by(taxon) %>%
summarise(total = sum(count)) %>%
ggplot(aes(x = taxon, y = total)) +
geom_col()
dbdata %>%
group_by(taxon) %>%
summarise(total = sum(count)) %>%
ggplot(aes(x = taxon, y = total)) +
geom_col() +
coord_flip()
dbdata %>%
group_by(taxon) %>%
summarise(total = sum(count)) %>%
arrange(desc(total)) %>%
ggplot(aes(x = taxon, y = total)) +
geom_col() +
coord_flip()
dbdata %>%
group_by(taxon) %>%
summarise(total = sum(count)) %>%
arrange(desc(total)) %>%
ggplot(aes(x = taxon, y = total)) +
geom_col() +
coord_flip()
main <- left_join(dbdata, habitat, by = c("site" = "site")) %>%
left_join(remotesense, by = c("UTM_X" = "UTM_X", "UTM_Y" = "UTM_Y"))
main %>%
filter(taxon = "Copris nubilosis")
main %>%
filter(taxon == "Copris nubilosis")
main %>%
filter(taxon == "Copris nubilosis") %>%
main
main %>%
filter(taxon == "Copris nubilosis") %>%
ggplot(aes(x = aspect, y = count)) +
main %>%
filter(taxon == "Copris nubilosis") %>%
ggplot(aes(x = aspect, y = count)) +
geom_point()
main %>%
filter(taxon == "Copris nubilosus") %>%
ggplot(aes(x = aspect, y = count)) +
geom_point()
dbdata %>%
group_by(taxon) %>%
summarise(total = sum(count)) %>%
arrange(desc(total)) %>%
ggplot(aes(x = taxon, y = total)) +
geom_col() +
coord_flip()
dbdata %>%
group_by(taxon) %>%
summarise(total = sum(count)) %>%
mutate(taxon = reorder(taxoon, desc(count))) %>%
ggplot(aes(x = taxon, y = total)) +
geom_col() +
coord_flip()
dbdata %>%
group_by(taxon) %>%
summarise(total = sum(count)) %>%
mutate(taxon = reorder(taxon, desc(count))) %>%
ggplot(aes(x = taxon, y = total)) +
geom_col() +
coord_flip()
dbdata %>%
group_by(taxon) %>%
summarise(total = sum(count)) %>%
mutate(taxon = reorder(taxon, desc(total))) %>%
ggplot(aes(x = taxon, y = total)) +
geom_col() +
coord_flip()
dbdata %>%
group_by(taxon) %>%
summarise(total = sum(count)) %>%
mutate(taxon = reorder(taxon, total)) %>%
ggplot(aes(x = taxon, y = total)) +
geom_col() +
coord_flip()
main %>%
filter(taxon == "Copris nubilosus" | taxon == "Dichotomius satanas" | taxon == "Eurysternus magnus") %>%
ggplot(aes(x = elevation, y = count, col = taxon)) +
geom_point()
main %>%
filter(taxon == "Copris nubilosus" | taxon == "Dichotomius satanas" | taxon == "Eurysternus magnus") %>%
ggplot(aes(x = dem, y = count, col = taxon)) +
geom_point()
main %>%
filter(taxon == "Copris nubilosus" | taxon == "Dichotomius satanas" | taxon == "Eurysternus magnus") %>%
ggplot(aes(x = dem, y = count, col = taxon)) +
geom_histogram()
main %>%
filter(taxon == "Copris nubilosus" | taxon == "Dichotomius satanas" | taxon == "Eurysternus magnus") %>%
ggplot(aes(x = dem, y = count, col = taxon)) +
geom_point()
main %>%
filter(taxon == "Copris nubilosus" | taxon == "Dichotomius satanas" | taxon == "Eurysternus magnus") %>%
ggplot(aes(x = dem, y = count, col = taxon)) +
geom_point() +
facet_wrap()
main %>%
filter(taxon == "Copris nubilosus" | taxon == "Dichotomius satanas" | taxon == "Eurysternus magnus") %>%
ggplot(aes(x = dem, y = count, col = taxon)) +
geom_point() +
facet_wrap(taxon)
main %>%
filter(taxon == "Copris nubilosus" | taxon == "Dichotomius satanas" | taxon == "Eurysternus magnus") %>%
ggplot(aes(x = dem, y = count, col = taxon)) +
geom_point() +
facet_wrap(col = taxon)
main %>%
filter(taxon == "Copris nubilosus" | taxon == "Dichotomius satanas" | taxon == "Eurysternus magnus") %>%
ggplot(aes(x = dem, y = count, col = taxon)) +
geom_point() +
facet_wrap(~taxon)
main %>%
filter(taxon == "Copris nubilosus") %>%
range(count)
main %>%
filter(taxon == "Copris nubilosus") %>%
range("count")
main %>%
filter(taxon == "Copris nubilosus") %>%
range()
main %>%
filter(taxon == "Copris nubilosus") %>%
range(count)
main %>%
filter(taxon == "Copris nubilosus") %>%
pull(count)
main %>%
filter(taxon == "Copris nubilosus") %>%
summarise(range_count = range(count))
main %>%
filter(taxon == "Copris nubilosus") %>%
range(count)
main %>%
filter(taxon == "Copris nubilosus") %>%
pull(count) %>%
range()
main %>%
filter(taxon == "Copris nubilosus") %>%
pull(count) %>%
max()
main %>%
filter(taxon == "Copris nubilosus") %>%
pull(count) %>%
range()
main %>%
filter(taxon == "Copris nubilosus") %>%
ggplot(aes(x = count)) +
geom_histogram
main %>%
filter(taxon == "Copris nubilosus") %>%
ggplot(aes(x = count)) +
geom_histogram()
main %>%
filter(taxon == "Copris nubilosus") %>%
ggplot(aes(x = count)) +
geom_histogram() +
labs( y = "frequency")
main %>%
filter(taxon == "Copris nubilosus") %>%
ggplot(aes(x = count)) +
geom_histogram(col = "forest green") +
labs( y = "frequency")
main %>%
filter(taxon == "Copris nubilosus") %>%
ggplot(aes(x = count)) +
geom_histogram(fill = "forest green") +
labs( y = "frequency")
main %>%
pull(count) %>%
print(min())
main %>%
pull(count) %>%
min()
main %>%
pull(count) %>%
min() %>%
mean()
main %>%
summarise(
min_count = min(count),
mean_count = mean(count),
median_count = median(count)
)
main %>%
summarise(
min_count = min(count),
mean_count = mean(count),
median_count = median(count),
max_count = max(count)
)
main %>%
group_by(taxon) %>%
summarise(
min_count = min(count),
mean_count = mean(count),
median_count = median(count),
max_count = max(count)
)
main %>%
filter(taxon == "Copris nubilosus") %>%
ggplot(aes(x=x, y = count)) +
geom_point() +
facet_grid(cols = c("main_forest_type","X2013_disturbance_type", "X2013_land_use"))
main %>%
filter(taxon == "Copris nubilosus") %>%
ggplot(aes(x=x, y = count)) +
geom_point() +
facet_grid(cols = c("main_forest_type","X2013_disturbance_type", "X2013_land_use"))
main %>%
filter(taxon == "Copris nubilosus") %>%
ggplot(aes(x=x, y = count)) +
geom_point() +
facet_grid(cols = ("main_forest_type","X2013_disturbance_type", "X2013_land_use"))
main %>%
filter(taxon == "Copris nubilosus") %>%
ggplot(aes(x=x, y = count)) +
geom_point() +
facet_grid(main_forest_type + X2013_disturbance_type + X2013_land_use)
main %>%
filter(taxon == "Copris nubilosus") %>%
ggplot(aes(x=x, y = count)) +
geom_point() +
facet_grid(main_forest_type ~ X2013_disturbance_type + X2013_land_use)
main %>%
filter(taxon == "Copris nubilosus") %>%
ggplot(aes(x=x, y = count)) +
geom_point() +
facet_grid(main_forest_type ~ X2013_disturbance_type ~ X2013_land_use)
main %>%
filter(taxon == "Copris nubilosus") %>%
pivot_longer("main_forest_type")
main %>%
filter(taxon == "Copris nubilosus") %>%
pivot_longer(names_to = "main_forest_type")
main %>%
filter(taxon == "Copris nubilosus") %>%
pivot_longer(cols = "main_forest_type", names_to = "main_forest_type")
main %>%
filter(taxon == "Copris nubilosus") %>%
pivot_longer(cols = "main_forest_type", names_to = "main_forest_type")
pivot_longer(cols = c("main_forest_type", "X2013_disturbance_type", "X2013_land_use"), names_to = "x_values)
pivot_longer(cols = c("main_forest_type", "X2013_disturbance_type", "X2013_land_use"), names_to = "x_values))
main %>%
filter(taxon == "Copris nubilosus") %>%
pivot_longer(cols = c("main_forest_type", "X2013_disturbance_type", "X2013_land_use"), names_to = "x_values")
main %>%
filter(taxon == "Copris nubilosus") %>%
pivot_longer(cols = c("main_forest_type", "X2013_disturbance_type", "X2013_land_use"), names_to = "x_values") %>%
ggplot(aes(x = value, y = count))
main %>%
filter(taxon == "Copris nubilosus") %>%
pivot_longer(cols = c("main_forest_type", "X2013_disturbance_type", "X2013_land_use"), names_to = "x_values") %>%
ggplot(aes(x = value, y = count)) +
geom_point()
main %>%
filter(taxon == "Copris nubilosus") %>%
pivot_longer(cols = c("main_forest_type", "X2013_disturbance_type", "X2013_land_use"), names_to = "x_values") %>%
ggplot(aes(x = value, y = count)) +
geom_point() +
main %>%
filter(taxon == "Copris nubilosus") %>%
pivot_longer(cols = c("main_forest_type", "X2013_disturbance_type", "X2013_land_use"), names_to = "x_values") %>%
ggplot(aes(x = value, y = count)) +
geom_point() +
facet_grid()
main %>%
filter(taxon == "Copris nubilosus") %>%
pivot_longer(cols = c("main_forest_type", "X2013_disturbance_type", "X2013_land_use"), names_to = "x_values") %>%
ggplot(aes(x = value, y = count)) +
geom_point() +
facet_grid(~values)
main %>%
filter(taxon == "Copris nubilosus") %>%
pivot_longer(cols = c("main_forest_type", "X2013_disturbance_type", "X2013_land_use"), names_to = "x_values") %>%
ggplot(aes(x = value, y = count)) +
geom_point() +
facet_grid(values(main_forest_type))
main %>%
filter(taxon == "Copris nubilosus") %>%
pivot_longer(cols = c("main_forest_type", "X2013_disturbance_type", "X2013_land_use"), names_to = "x_values") %>%
ggplot(aes(x = value, y = count)) +
geom_point() +
facet_grid(vars(values))
main %>%
filter(taxon == "Copris nubilosus") %>%
pivot_longer(cols = c("main_forest_type", "X2013_disturbance_type", "X2013_land_use"), names_to = "x_values") %>%
ggplot(aes(x = value, y = count)) +
geom_point() +
facet_grid(vars(value))
main %>%
filter(taxon == "Copris nubilosus") %>%
pivot_longer(cols = c("main_forest_type", "X2013_disturbance_type", "X2013_land_use"), names_to = "x_values") %>%
ggplot(aes(x = value, y = count)) +
geom_point() +
facet_grid(vars(x_values))
main %>%
filter(taxon == "Copris nubilosus") %>%
pivot_longer(cols = c("main_forest_type", "X2013_disturbance_type", "X2013_land_use"), names_to = "x_values") %>%
ggplot(aes(x = value, y = count)) +
geom_col() +
facet_grid(vars(x_values))
main %>%
filter(taxon == "Copris nubilosus") %>%
pivot_longer(cols = c("main_forest_type", "X2013_disturbance_type", "X2013_land_use"), names_to = "x_values") %>%
ggplot(aes(x = value, y = count)) +
geom_col() +
facet_grid(vars(x_values), scales = "free_x")
main %>%
filter(taxon == "Copris nubilosus") %>%
pivot_longer(cols = c("main_forest_type", "X2013_disturbance_type", "X2013_land_use"), names_to = "x_values") %>%
ggplot(aes(x = value, y = count)) +
geom_col() +
facet_grid(vars(x_values), scales = "free_x", space = "free")
main %>%
filter(taxon == "Copris nubilosus") %>%
pivot_longer(cols = c("main_forest_type", "X2013_disturbance_type", "X2013_land_use"), names_to = "x_values") %>%
ggplot(aes(x = value, y = count)) +
geom_col() +
facet_grid(x_values ~, scales = "free_x", space = "free")
main %>%
filter(taxon == "Copris nubilosus") %>%
pivot_longer(cols = c("main_forest_type", "X2013_disturbance_type", "X2013_land_use"), names_to = "x_values") %>%
ggplot(aes(x = value, y = count)) +
geom_col() +
facet_grid(x_values ~ , scales = "free_x", space = "free")
main %>%
filter(taxon == "Copris nubilosus") %>%
pivot_longer(cols = c("main_forest_type", "X2013_disturbance_type", "X2013_land_use"), names_to = "x_values") %>%
ggplot(aes(x = value, y = count)) +
geom_col() +
facet_grid(x_values ~ ., scales = "free_x", space = "free")
main %>%
group_by(collectdate, site) %>%
summarise(
richness = sum(count>0),
minimum = min(count),
maximum = max(count),
total = sum(count)
)
q8 <- main %>%
group_by(collectdate, site) %>%
summarise(
richness = sum(count>0),
minimum = min(count),
maximum = max(count),
total = sum(count)
)
main %>%
filter(taxon == "Copris nubilosus") %>%
pivot_longer(cols = c("main_forest_type", "X2013_disturbance_type", "X2013_land_use"), names_to = "x_values") %>%
ggplot(aes(x = value, y = count)) +
geom_col() +
facet_grid(x_values ~ ., scales = "free_x")
main %>%
filter(taxon == "Copris nubilosus") %>%
pivot_longer(cols = c("main_forest_type", "X2013_disturbance_type", "X2013_land_use"), names_to = "x_values") %>%
ggplot(aes(x = value, y = count)) +
geom_col() +
facet_wrap(~x_values, scales = "free_x")
