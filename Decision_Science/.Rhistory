str(data_3)
data_3 %>% pull(NCM) %>% sort()
ggplot(aes(x = NCM, y = Cost) +
ggplot(aes(x = NCM, y = Cost) +
data_3 %>%
ggplot(aes(x = NCM, y = Cost)) +
geom_point()
View(data_3)
data_3 <- read_excel("Data_3.xlsx", sheet = "Data", skip = 3)
str(data_3)
data_3 <- read_excel("Data_3.xlsx", sheet = "Data", skip = 3)
str(data_3)
data_3 %>% pull(NCM) %>% sort()
data_3 %>%
ggplot(aes(x = NCM, y = Cost)) +
geom_point()
data_3 %>% pull(Cost, NCM)
data_3_cost_NCM <- data_3 %>% pull(Cost, NCM)
data_3 %>% select(Cost, NCM)
data_3 %>% select(Cost, NCM) %>%
sort(NCM)
data_3 %>% select(Cost, NCM) %>%
sort()
data_3 %>% select(Cost, NCM) %>%
order(NCM)
data_3 %>% select(Cost, NCM) %>%
order("NCM")
data_3$NCM
data_3 %>% select(Cost, NCM) %>%
order(data3$NCM)
data_3 %>% select(Cost, NCM) %>%
order(data_3$NCM)
data_3 %>% select(Cost, NCM) %>%
data_3(order(data_3$NCM))
data_3[order(data_3$NCM, decreasing = TRUE), ]
data_3[order(data_3$NCM, decreasing = TRUE), ]
data_3[order(data_3$NCM, decreasing = TRUE), ]
data_3[order(data_3$NCM, decreasing = TRUE), ] %>%
select(Cost,NCM)
data_3[order(data_3$NCM, decreasing = TRUE), ] %>%
select(Cost,NCM) %>%
mutate(cumulative_sum = cumsum(Cost)) %>%
filter(cumulative_sum >= 20000000) %>% slice(1)
data_3[order(data_3$NCM, decreasing = TRUE), ] %>%
select(Cost,NCM) %>%
mutate(cumulative_sum = cumsum(Cost)) %>%
filter(cumulative_sum >= 20000000) %>% slice(1) %>%
summarise(sum_until_target = ifelse(is.na(cumulative_sum), sum(Cost), cumulative_sum),
rows_included = min(row_number(), n()))
data_3[order(data_3$NCM, decreasing = TRUE), ] %>%
select(Cost,NCM) %>%
mutate(cumulative_sum = cumsum(Cost)) %>%
filter(cumulative_sum >= 20000000 - Cost & cumulative_sum <= target_sum) %>%
slice(1)
data_3[order(data_3$NCM, decreasing = TRUE), ] %>%
select(Cost,NCM) %>%
mutate(cumulative_sum = cumsum(Cost)) %>%
filter(cumulative_sum >= 20000000 - Cost & cumulative_sum <= 20000000) %>%
slice(1)
data_3[order(data_3$NCM, decreasing = TRUE), ] %>%
select(Cost,NCM) %>%
mutate(cumulative_sum = cumsum(Cost)) %>%
filter(cumulative_sum >= 20000000 - Cost & cumulative_sum <= 20000000) %>%
slice(2)
data_3[order(data_3$NCM, decreasing = TRUE), ] %>%
select(Cost,NCM) %>%
mutate(cumulative_sum = cumsum(Cost)) %>%
filter(cumulative_sum >= 20000000 - Cost & cumulative_sum <= 20000000) %>%
slice(0)
data_3[order(data_3$NCM, decreasing = TRUE), ] %>%
select(Cost,NCM) %>%
mutate(cumulative_sum = cumsum(Cost)) %>%
filter(cumulative_sum >= 20000000 - Cost & cumulative_sum <= 20000000)
data_3[order(data_3$NCM, decreasing = TRUE), ] %>%
select(Cost,NCM) %>%
mutate(cumulative_sum = cumsum(Cost)) %>%
filter(cumulative_sum >= 20000000 & cumulative_sum <= 20000000)
data_3[order(data_3$NCM, decreasing = TRUE), ] %>%
select(Cost,NCM) %>%
mutate(cumulative_sum = cumsum(Cost)) %>%
filter(cumulative_sum >= 20000000, cumulative_sum <= 20000000)
data_3[order(data_3$NCM, decreasing = TRUE), ] %>%
select(Cost,NCM) %>%
mutate(cumulative_sum = cumsum(Cost)) %>%
filter(cumulative_sum >= 20000000)
data_3[order(data_3$NCM, decreasing = TRUE), ] %>%
select(Cost,NCM) %>%
mutate(cumulative_sum = cumsum(Cost)) %>%
filter(cumulative_sum >= 20000000) %>% slice(c(-1,0))
data_3[order(data_3$NCM, decreasing = TRUE), ] %>%
select(Cost,NCM) %>%
mutate(cumulative_sum = cumsum(Cost)) %>%
filter(cumulative_sum >= 20000000) %>% slice(c(-1,0))
data_3[order(data_3$NCM, decreasing = TRUE), ] %>%
select(Cost,NCM) %>%
mutate(cumulative_sum = cumsum(Cost))
data_3 %>%
ggplot(aes(x = NCM, y = Cost)) +
geom_point()
library(tidyr)
library(dplyr)
library(stringr)
library(readxl)
library(ggplot2)
data_1 <- read_excel("Data_1.xlsx")
data_3 <- read_excel("Data_3.xlsx", sheet = "Data", skip = 3)
str(data_3)
data_3 %>% pull(NCM) %>% sort()
data_3 %>%
ggplot(aes(x = NCM, y = Cost)) +
geom_point()
data_3[order(data_3$NCM, decreasing = TRUE), ] %>%
select(Cost,NCM) %>%
mutate(cumulative_sum = cumsum(Cost))
data_3 <- setNames(data_3, c("common_name","scientific_name",
"benefit", "phy_dis", "cost",
"p_suc", "threat_status", "gap",
"cost_efficiency", "n_cost_efficiency"))
str(data_3)
data_3 %>% pull(n_cost_efficiency) %>% sort()
data_3 %>%
ggplot(aes(x = n_cost_efficiency, y = cost)) +
geom_point()
data_3 %>% mutate(dis_weighted = phy_dis*cost_efficiency)
str(data_3)
mutate(phy_dis = as.numeric(phy_dis) %>%
data_3 %>%
mutate(phy_dis = as.numeric(phy_dis)) %>%
mutate(dis_weighted = phy_dis*cost_efficiency)
data_3 %>%
mutate(phy_dis = as.numeric(phy_dis)) %>%
mutate(dis_weighted = phy_dis*cost_efficiency) %>%
pull(phy_dis)
data_3 %>%
mutate(phy_dis = str_replace_all(phy_dis, "[ \t]+", "")) %>%
mutate(phy_dis = as.numeric(phy_dis)) %>%
mutate(dis_weighted = phy_dis*cost_efficiency) %>%
pull(phy_dis)
str(data_3)
data_3 %>%
mutate(phy_dis = str_replace_all(phy_dis, "[ \t]+", "")) %>%
pull(phy_dis)
data_3 %>%
mutate(phy_dis = str_replace_all(phy_dis, " ", "")) %>%
pull(phy_dis)
data_3 %>%
mutate(phy_dis = as.numeric(str_trim(phy_dis))) %>%
mutate(dis_weighted = phy_dis*cost_efficiency) %>%
pull(phy_dis)
data_3 %>%
mutate(phy_dis = as.numeric(str_trim(phy_dis))) %>%
mutate(dis_weighted = phy_dis*cost_efficiency) %>%
pull(dis_weighted)
data_3 %>%
mutate(phy_dis = as.numeric(str_trim(phy_dis))) %>%
mutate(dis_weighted = phy_dis*cost_efficiency) %>%
ggplot(aes(x = dis_weighted, y = cost)) +
geom_point
data_3 %>%
mutate(phy_dis = as.numeric(str_trim(phy_dis))) %>%
mutate(dis_weighted = phy_dis*cost_efficiency) %>%
ggplot(aes(x = dis_weighted, y = cost)) +
geom_point()
data_3 %>%
mutate(phy_dis = as.numeric(str_trim(phy_dis))) %>%
mutate(dis_weighted = phy_dis*cost_efficiency) %>%
mutate(n_dis_weighted = dis_weighted/max(dis_weighted))
data_3 %>%
mutate(phy_dis = as.numeric(str_trim(phy_dis))) %>%
mutate(dis_weighted = phy_dis*cost_efficiency) %>%
mutate(n_dis_weighted = dis_weighted/max(dis_weighted)) %>%
ggplot(aes(x = dis_weighted, y = cost)) +
geom_point()
data_3 %>%
mutate(phy_dis = as.numeric(str_trim(phy_dis))) %>%
mutate(dis_weighted = phy_dis*cost_efficiency) %>%
mutate(n_dis_weighted = dis_weighted/max(dis_weighted)) %>%
ggplot(aes(x = n_dis_weighted, y = cost)) +
geom_point()
data_3 %>%
mutate(phy_dis = as.numeric(str_trim(phy_dis))) %>%
mutate(dis_weighted = phy_dis*cost_efficiency) %>%
mutate(n_dis_weighted = dis_weighted/max(dis_weighted)) %>%
ggplot(aes(x = n_dis_weighted, y = cost)) +
geom_point() +
data_3 %>%
mutate(phy_dis = as.numeric(str_trim(phy_dis))) %>%
mutate(dis_weighted = phy_dis*cost_efficiency) %>%
mutate(n_dis_weighted = dis_weighted/max(dis_weighted)) %>%
ggplot(aes(x = n_dis_weighted, y = cost)) +
geom_point() +
geom_text()
data_3 %>%
mutate(phy_dis = as.numeric(str_trim(phy_dis))) %>%
mutate(dis_weighted = phy_dis*cost_efficiency) %>%
mutate(n_dis_weighted = dis_weighted/max(dis_weighted)) %>%
ggplot(aes(x = n_dis_weighted, y = cost)) +
geom_point() +
geom_text(aes(label = label), vjust = -0.5, hjust = 1)
data_3 %>%
mutate(phy_dis = as.numeric(str_trim(phy_dis))) %>%
mutate(dis_weighted = phy_dis*cost_efficiency) %>%
mutate(n_dis_weighted = dis_weighted/max(dis_weighted)) %>%
ggplot(aes(x = n_dis_weighted, y = cost)) +
geom_point() +
geom_text(aes(label = common_name), vjust = -0.5, hjust = 1)
data_3 %>%
ggplot(aes(x = n_cost_efficiency, y = cost)) +
geom_point() +
geom_text(aes(label = common_name), vjust = -0.5, hjust = 1)
data_3 %>%
ggplot(aes(x = n_cost_efficiency, y = cost)) +
geom_point()
phy_dis*
data_3 %>%
mutate(phy_dis = as.numeric(str_trim(phy_dis))) %>%
mutate(dis_weighted = phy_dis*cost_efficiency) %>%
mutate(n_dis_weighted = dis_weighted/max(dis_weighted)) %>%
ggplot(aes(x = n_dis_weighted, y = cost)) +
geom_point() +
geom_text(aes(label = common_name), vjust = -0.5, hjust = 1)
data_3 %>%
ggplot(aes(x = n_cost_efficiency, y = cost)) +
geom_point() +
geom_text(aes(label = common_name), vjust = -0.5, hjust = 1)
data_3 %>%
mutate(phy_dis = as.numeric(str_trim(phy_dis))) %>%
mutate(dis_weighted = phy_dis*cost_efficiency) %>%
mutate(n_dis_weighted = dis_weighted/max(dis_weighted)) %>%
ggplot(aes(x = n_dis_weighted, y = cost)) +
geom_point() +
geom_text(aes(label = common_name), vjust = -0.5, hjust = 1)
data_3 %>%
ggplot(aes(x = n_cost_efficiency, y = cost)) +
geom_point() +
geom_text(aes(label = common_name), vjust = -0.5, hjust = 1)
data_3 %>%
mutate(phy_dis = as.numeric(str_trim(phy_dis))) %>%
mutate(dis_weighted = phy_dis*cost_efficiency) %>%
mutate(n_dis_weighted = dis_weighted/max(dis_weighted)) %>%
ggplot(aes(x = n_dis_weighted, y = cost)) +
geom_point()
geom_text(aes(label = common_name), vjust = -0.5, hjust = 1)
data_3 %>%
mutate(phy_dis = as.numeric(str_trim(phy_dis))) %>%
mutate(dis_weighted = phy_dis*cost_efficiency) %>%
mutate(n_dis_weighted = dis_weighted/max(dis_weighted)) %>%
ggplot(aes(x = n_dis_weighted, y = cost)) +
geom_point() +
geom_text(aes(label = common_name), vjust = -0.5, hjust = 1)
data_3 %>%
ggplot(aes(x = n_cost_efficiency, y = cost)) +
geom_point() +
geom_text(aes(label = common_name), vjust = -0.5, hjust = 1)
data_3 %>%
ggplot(aes(x = n_cost_efficiency, y = cost)) +
geom_point()
data_3 %>%
ggplot(aes(x = n_cost_efficiency, y = cost)) +
geom_point()
data_3 %>%
ggplot(aes(x = n_cost_efficiency, y = cost)) +
geom_point()
data_3 %>%
mutate(phy_dis = as.numeric(str_trim(phy_dis))) %>%
mutate(dis_weighted = phy_dis*cost_efficiency) %>%
mutate(n_dis_weighted = dis_weighted/max(dis_weighted)) %>%
ggplot(aes(x = n_dis_weighted, y = cost)) +
geom_point()
data_3 %>%
ggplot(aes(x = n_cost_efficiency, y = cost)) +
geom_point() +
geom_text(aes(label = common_name), vjust = -0.5, hjust = 1)
data_3 %>%
mutate(phy_dis = as.numeric(str_trim(phy_dis))) %>%
mutate(dis_weighted = phy_dis*cost_efficiency) %>%
mutate(n_dis_weighted = dis_weighted/max(dis_weighted)) %>%
ggplot(aes(x = n_dis_weighted, y = cost)) +
geom_point()
data_3 %>%
ggplot(aes(x = n_cost_efficiency, y = phy_dis)) +
geom_point() +
geom_text(aes(label = common_name), vjust = -0.5, hjust = 1)
data_3 %>%
ggplot(aes(x = n_cost_efficiency, y = phy_dis)) +
geom_point()
lm_model <- lm(y ~ x, data = df)
lm_model <- lm(y ~ x, data_3 = df)
lm_model <- lm(phys_dis ~ n_cost_efficiency, data_3 = df)
lm_model <- lm(phy_dis ~ n_cost_efficiency, data_3 = df)
data_3 %>%
mutate(phy_dis = as.numeric(str_trim(phy_dis)))
lm_model <- lm(phy_dis ~ n_cost_efficiency, data_3 = df)
str(data_3)
data_3 <- data_3 %>%
mutate(phy_dis = as.numeric(str_trim(phy_dis)))
lm_model <- lm(phy_dis ~ n_cost_efficiency, data_3 = df)
lm_model <- lm(phy_dis ~ n_cost_efficiency, data = data_3)
data_3 %>%
ggplot(aes(x = n_cost_efficiency, y = phy_dis)) +
geom_point() +
geom_abline(intercept = coef(lm_model)[1], slope = coef(lm_model)[2])
data_3 %>%
ggplot(aes(x = n_cost_efficiency, y = phy_dis)) +
geom_point()
data_3 %>%
ggplot(aes(x = n_cost_efficiency, y = phy_dis)) +
geom_point() +
geom_abline(intercept = coef(lm_model)[1], slope = coef(lm_model)[2])
data_3 %>%
ggplot(aes(x = n_cost_efficiency, y = phy_dis)) +
geom_point() +
geom_abline(intercept = coef(lm_model)[1], slope = coef(lm_model)[2]) +
geom_text(aes(label = common_name), vjust = -0.5, hjust =1)
data_3 %>%
ggplot(aes(x = n_cost_efficiency, y = phy_dis)) +
geom_point() +
geom_abline(intercept = coef(lm_model)[1], slope = coef(lm_model)[2]) +
geom_text(aes(label = common_name), vjust = -0.5, hjust =1)
data_3 %>%
ggplot(aes(x = n_cost_efficiency, y = cost)) +
geom_point() +
geom_text(aes(label = common_name), vjust = -0.5, hjust = 1)
+geom_text(aes(label = common_name), vjust = -0.5, hjust = 1)
data_3 <- read_excel("Data_3.xlsx", sheet = "Data", skip = 3)
str(data_3)
data_3 <- read_excel("Data_3.xlsx", sheet = "Data", skip = 3)
str(data_3)
data_3 %>%
ggplot(aes(x = n_ce_pd, y = cost))
data_3 %>%
ggplot(aes(x = n_ce_pd, y = cost)) +
geom_point()
data_3 %>%
mutate(phy_dis = as.numeric(str_trim(phy_dis))) %>%
mutate(dis_weighted = phy_dis*cost_efficiency) %>%
mutate(n_dis_weighted = dis_weighted/max(dis_weighted)) %>%
ggplot(aes(x = n_dis_weighted, y = cost)) +
geom_point()
ranked <- data_3 %>%
arrange(desc(n_ce_pd)) %>%
mutate(cumulative_sum = cumsum(cost)) %>%
filter(cumulative_sum <= critical_number)
ranked <- data_3 %>%
arrange(desc(n_ce_pd)) %>%
mutate(cumulative_sum = cumsum(cost)) %>%
filter(cumulative_sum <= 20000000)
ranked
chosen <- data_3 %>%
arrange(desc(n_ce_pd)) %>%
mutate(cumulative_sum = cumsum(cost)) %>%
filter(cumulative_sum <= 20000000)
chosen_data <- data_3 %>%
arrange(desc(n_ce_pd)) %>%
mutate(cumulative_sum = cumsum(cost)) %>%
#filter(cumulative_sum <= 20000000)
mutate(chosen = ifelse(row_number() <= 8, common_name, NA))
View(chosen)
View(chosen)
str(chosen_data)
chosen_data %>%
ggplot(aes(x = n_ce_pd, y = cost)) +
geom_point() +
geom_text(aes(label = chosen), vjust = -0.5, hjust =1)
View(chosen_data)
chosen_data <- data_3 %>%
arrange(desc(n_ce_pd)) %>%
mutate(
cumulative_sum = ifelse(cumsum(cost) <= critical_number, cumsum(cost), NA),
corresponding_column = ifelse(cumsum(cost) <= critical_number, common_name, NA)
)
critical_number <- 20000000
chosen_data <- data_3 %>%
arrange(desc(n_ce_pd)) %>%
mutate(
cumulative_sum = ifelse(cumsum(cost) <= critical_number, cumsum(cost), NA),
corresponding_column = ifelse(cumsum(cost) <= critical_number, common_name, NA)
)
critical_number <- 20000000
chosen_data_2 <- data_3 %>%
arrange(desc(n_ce_pd)) %>%
mutate(
cumulative_sum = ifelse(cumsum(cost) <= critical_number, cumsum(cost), NA),
corresponding_column = ifelse(cumsum(cost) <= critical_number, common_name, NA)
)
View(chosen_data_2)
library(purrr)
chosen_data_2 <- data_3 %>%
arrange(desc(n_ce_pd)) %>%
mutate(
cumulative_sum = accumulate(cost, ~ ifelse(.x + .y <= critical_number, .x + .y, NA)),
corresponding_column = accumulate(common_name, ~ ifelse(.x + tail(.y, 1) <= critical_number, tail(.y, 1), NA))
) %>%
slice(which(!is.na(cumulative_sum)))
chosen_data_2 <- data_3 %>%
arrange(desc(n_ce_pd)) %>%
mutate(
cumulative_sum = accumulate(cost, ~ ifelse(.x + .y <= critical_number, .x + .y, NA)),
chosen_column = ifelse(!is.na(cumulative_sum), common_name, NA_character_)
) %>%
slice(which(!is.na(cumulative_sum)))
View(chosen_data_2)
chosen_data_2 <- data_3 %>%
arrange(desc(n_ce_pd)) %>%
mutate(
cumulative_sum = accumulate(cost, ~ ifelse(.x + .y <= critical_number, .x + .y, NA)),
chosen_column = ifelse(!is.na(cumulative_sum) | row_number() == 1, common_name, NA_character_)
) %>%
slice(which(!is.na(cumulative_sum)))
View(chosen_data_2)
chosen_data_2 <- data_3 %>%
arrange(desc(n_ce_pd)) %>%
mutate(
cumulative_sum = accumulate(cost, ~ ifelse(.x + .y <= critical_number, .x + .y, NA)),
chosen_column = ifelse(!is.na(cumulative_sum) | row_number() == 1, common_name, NA_character_)
)
View(chosen_data_2)
str(data_3)
# Sort the data frame by cost in descending order
data_3_ranked <- data_3 %>% arrange(desc(phy_dis))
View(data_3_ranked)
# Sort the data frame by cost in descending order
data_3_ranked <- data_3 %>% arrange(desc(n_ce_pd)
View(data_3_ranked)
# Sort the data frame by cost in descending order
data_3_ranked <- data_3 %>% arrange(desc(n_ce_pd))
View(data_3_ranked)
next  # Exit the loop if adding the current row would exceed the critical number
# Iterate through rows
for (i in 1:nrow(data_3_ranked)) {
if (cumulative_sum + data_3_ranked$cost[i] <= critical_number) {
cumulative_sum <- cumulative_sum + data_3_ranked$cost[i]
chosen_names <- c(chosen_names, data_3_rankedf$common_name[i])
} else {
next  # Exit the loop if adding the current row would exceed the critical number
}
}
# Initialize variables
cumulative_sum <- 0
chosen_names <- character(0)
# Iterate through rows
for (i in 1:nrow(data_3_ranked)) {
if (cumulative_sum + data_3_ranked$cost[i] <= critical_number) {
cumulative_sum <- cumulative_sum + data_3_ranked$cost[i]
chosen_names <- c(chosen_names, data_3_rankedf$common_name[i])
} else {
next  # Exit the loop if adding the current row would exceed the critical number
}
}
# Create a new column in the original data frame
df$chosen_column <- ifelse(df$common_name %in% chosen_names, df$common_name, NA_character_)
cumulative_sum <- cumulative_sum + data_3_ranked$cost[i]
chosen_names <- c(chosen_names, data_3_rankedf$common_name[i])
if (cumulative_sum + data_3_ranked$cost[i] <= critical_number) {
cumulative_sum <- cumulative_sum + data_3_ranked$cost[i]
chosen_names <- c(chosen_names, data_3_rankedf$common_name[i])
} else {
next  # Exit the loop if adding the current row would exceed the critical number
}
chosen_names <- c(chosen_names, data_3_ranked$common_name[i])
if (cumulative_sum + data_3_ranked$cost[i] <= critical_number) {
cumulative_sum <- cumulative_sum + data_3_ranked$cost[i]
chosen_names <- c(chosen_names, data_3_ranked$common_name[i])
} else {
next  # Exit the loop if adding the current row would exceed the critical number
}
# Iterate through rows
for (i in 1:nrow(data_3_ranked)) {
if (cumulative_sum + data_3_ranked$cost[i] <= critical_number) {
cumulative_sum <- cumulative_sum + data_3_ranked$cost[i]
chosen_names <- c(chosen_names, data_3_ranked$common_name[i])
} else {
next  # Exit the loop if adding the current row would exceed the critical number
}
}
chosen_names <- character(0)
# Initialize variables
cumulative_sum <- 0
# Iterate through rows
for (i in 1:nrow(data_3_ranked)) {
if (cumulative_sum + data_3_ranked$cost[i] <= critical_number) {
cumulative_sum <- cumulative_sum + data_3_ranked$cost[i]
chosen_names <- c(chosen_names, data_3_ranked$common_name[i])
} else {
next
}
}
# Create a new column in the original data frame
data_3_ranked$chosen_column <- ifelse(data_3_ranked$common_name %in% chosen_names, data_3_ranked$common_name, NA_character_)
View(data_3)
View(data_3_ranked)
data_3_ce_ranked <- data_3 %>% arrange(desc(cost_efficiency))
cumulative_sum_2 <- 0
chosen_names_2 <- character(0)
for (i in 1:nrow(data_3_ce_ranked)) {
if (cumulative_sum_2 + data_3_ce_ranked$cost[i] <= critical_number) {
cumulative_sum_2 <- cumulative_sum_2 + data_3_ce_ranked$cost[i]
chosen_names_2 <- c(chosen_names_e, data_3_ce_ranked$common_name[i])
} else {
next
}
}
for (i in 1:nrow(data_3_ce_ranked)) {
if (cumulative_sum_2 + data_3_ce_ranked$cost[i] <= critical_number) {
cumulative_sum_2 <- cumulative_sum_2 + data_3_ce_ranked$cost[i]
chosen_names_2 <- c(chosen_names_2, data_3_ce_ranked$common_name[i])
} else {
next
}
}
data_3_ce_ranked$chosen_column <- ifelse(data_3_ce_ranked$common_name %in% chosen_names_2, data_3_ce_ranked$common_name, NA_character_)
View(data_3_ce_ranked)
